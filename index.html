<!DOCTYPE html>
<!--
Howdy doody everybody 
AUTHOR: Tyler Porter

If youre smart enough to get here, the JS will spoil the whole thing for you. I reccomend waiting until knowledge is evident.

This is a website built to be an interactive terminal for a dnd adjacent story involving a carefully built diorama.
 - First, read "Lonesome Dove" by Larry McMurtry
 - Then play/watch/listen/read the following for several years: SOMA, There Will Be Blood, No Country For Old Men, I Have No Mouth And I Must Scream, really all of Harlan Ellison, Mouthwashing, The Witness, Death Cab For Cutie, Marty Robbins
 - Blend it, and carefully bake.
 - Then you get this project! I dont know why im doing this. I just wanted to. Maybe ill be famous for it. 

Originally published back in August, so if any of you look this up.
 This has been live since mid august. Any of you could have googled this and spoiled yourselves

This is coded poorly,a lot of chatGPT here, no intent for best practice, 
just to be a prop in a overly prepared 6 hour magic trick.
 - Must less GPT now, i actually had to start doing this manually. 
 - I fucking hate front end. Just let me be magic math backend man, I dont understand colors, thats why i got the CS degree


It'll be a fun time, and thats what im trying to achieve.

⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡇⣴⣤⣤⣤⣤⣤⡄⢹⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⠟⢋⣵⣿⣿⣿⡿⠛⣩⣤⣿⣿⣿⣿⣿⣿⣿⣬⣙⠻⣿⣿⣿⣷⡍⠛⢿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⠟⢹⠃⣠⣾⣿⣿⡿⢋⣴⣿⣿⣿⣿⠿⠿⠈⠿⢿⣿⣿⣿⣷⣤⡙⣿⣿⣿⢦⡀⢣⠙⣿⣿⣿⣿
⣿⣿⡿⡿⠀⡯⠊⣡⣿⣿⠏⣴⣿⣿⣿⠟⠁⣀⣤⣤⠀⣤⣤⡀⠙⠻⣿⣿⣿⣌⢻⣿⣧⡉⠺⡄⢸⠹⣿⣿
⣿⣿⠃⢷⠀⡠⢺⣿⣿⡏⣰⣿⣿⡟⠁⣠⣾⣿⣿⠿⠀⠿⣿⣿⣷⡄⠘⣿⣿⣿⡄⣿⣿⣯⠢⡀⢸⠀⢹⣿
⣿⣿⠀⢸⠊⣠⣿⣿⣿⢀⣿⣿⣿⠁⣰⣿⣿⣿⣿⣆⢀⣼⣿⣿⣿⣿⡄⢸⣿⣿⣿⣹⣿⣿⣦⠈⢺⠀⢸⣿
⣿⠹⡆⠀⣴⢻⣿⣿⣿⢸⣿⣿⣿⠀⣿⣿⡿⠿⠿⢿⣿⠿⠿⠿⣿⣿⡇⢈⣿⣿⣿⠀⣿⣿⣿⠳⡀⢀⡇⢸
⣿⡀⠹⣸⠉⣿⣿⡿⢋⣠⣿⣿⣿⡀⠸⠟⢋⣀⢠⣾⣿⣷⡀⣀⡙⠻⠁⢸⣿⣿⣿⣈⠻⣿⣿⡄⠹⡜⠀⣸
⣿⢧⠀⠇⢠⣿⣿⣷⡘⣿⣿⣿⣟⣁⡀⠘⢿⣿⣿⣿⣿⣿⣿⣿⠿⠀⣠⣉⣿⣿⣿⡿⢠⣿⡿⢧⠀⠁⣰⢿
⣿⡌⢷⡄⣾⠀⣿⣿⣷⡜⢿⣿⣿⣿⣿⣦⣄⠈⠉⠛⠛⠛⠉⢁⣠⣾⣿⣿⣿⣿⡟⣰⣿⣿⡇⢸⢀⡴⠃⣼
⣿⣷⣄⠙⢿⠀⣿⢿⣿⣿⣌⠿⠟⡻⣿⣿⣿⣿⣷⣶⣶⣶⣿⣿⣿⣿⡿⠛⠿⠟⣼⣿⡿⢫⠃⢸⠋⢀⣼⣿
⣿⣿⣟⣶⣄⡀⢸⡀⢻⣿⣿⣾⣿⣿⣶⣍⣙⠛⠿⠿⠿⠿⠿⠛⣋⣥⣶⣿⣿⣾⣿⣿⠁⣸⢀⣴⣶⣯⣿⣿
⣿⣿⣿⣿⣿⣿⠾⣧⠀⢯⠻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣿⣿⣿⣿⣿⣿⣿⣿⡿⢫⠃⢠⢷⣛⣉⣽⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣄⣁⡈⢧⠈⠻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠋⣠⢋⣀⣠⣴⣾⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣯⣉⠉⠉⠉⣀⣀⡭⠟⠛⢛⣛⠛⠛⠛⣛⠛⠛⠩⣥⣀⣈⢁⢀⣀⣴⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣯⣝⡛⢉⣁⣀⣤⠖⣫⣴⣿⣿⣷⣬⡙⣦⣤⣀⡈⣉⣩⣯⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣧⣼⣿⣿⣿⣿⣿⣿⣿⣧⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿

CHANGELOG:
10/20/2025 - Wow im getting to this late. Just added the "random flash message" 

-->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lonesome Duck Terminal</title>
    <style>
        @keyframes staticNoise {
            0% { background-position: 0 0; }
            100% { background-position: 100% 100%; }
        }

        #staticOverlay {
            display: none;
            position: fixed;
            inset: 0;
            background-image: url('https://upload.wikimedia.org/wikipedia/commons/d/d1/White_noise.gif');
            background-size: cover;
            animation: staticNoise 0.2s infinite;
            z-index: 9998;
        }

        #clueMessage {
            display: none;
            position: fixed;
            top: 40%;
            width: 100%;
            text-align: center;
            font-family: "Courier New", monospace;
            font-size: 2em;
            color: red;
            text-shadow: 0 0 15px red;
            z-index: 9999;
        }

        @keyframes scanlineMove {
            0% { background-position: 0 0, 0 0; }
            100% { background-position: 0 100%, 10px 100%; }
        }

        @keyframes flicker {
            0% {
                opacity: 0.27861;
            }
            5% {
                opacity: 0.34769;
            }
            10% {
                opacity: 0.23604;
            }
            15% {
                opacity: 0.50626;
            }
            20% {
                opacity: 0.18128;
            }
            25% {
                opacity: 0.33891;
            }
            30% {
                opacity: 0.65583;
            }
            35% {
                opacity: 0.67807;
            }
            40% {
                opacity: 0.26559;
            }
            45% {
                opacity: 0.14693;
            }
            50% {
                opacity: 0.36019;
            }
            55% {
                opacity: 0.98594;
            }
            60% {
                opacity: 0.20313;
            }
            65% {
                opacity: 0.61988;
            }
            70% {
                opacity: 0.53455;
            }
            75% {
                opacity: 0.37288;
            }
            80% {
                opacity: 0.11428;
            }
            85% {
                opacity: 0.50419;
            }
            90% {
                opacity: 0.9003;
            }
            95% {
                opacity: 0.86108;
            }
            100% {
                opacity: 0.24387;
            }
        }

        @keyframes textShadow {
            0% {
                text-shadow: 0.4389924193300864px 0 1px rgba(0,30,255,0.5), -0.4389924193300864px 0 1px rgba(255,0,80,0.3), 0 0 3px;
            }
            5% {
                text-shadow: 2.7928974010788217px 0 1px rgba(0,30,255,0.5), -2.7928974010788217px 0 1px rgba(255,0,80,0.3), 0 0 3px;
            }
            10% {
                text-shadow: 0.02956275843481219px 0 1px rgba(0,30,255,0.5), -0.02956275843481219px 0 1px rgba(255,0,80,0.3), 0 0 3px;
            }
            15% {
                text-shadow: 0.40218538552878136px 0 1px rgba(0,30,255,0.5), -0.40218538552878136px 0 1px rgba(255,0,80,0.3), 0 0 3px;
            }
            20% {
                text-shadow: 3.4794037899852017px 0 1px rgba(0,30,255,0.5), -3.4794037899852017px 0 1px rgba(255,0,80,0.3), 0 0 3px;
            }
            25% {
                text-shadow: 1.6125630401149584px 0 1px rgba(0,30,255,0.5), -1.6125630401149584px 0 1px rgba(255,0,80,0.3), 0 0 3px;
            }
            30% {
                text-shadow: 0.7015590085143956px 0 1px rgba(0,30,255,0.5), -0.7015590085143956px 0 1px rgba(255,0,80,0.3), 0 0 3px;
            }
            35% {
                text-shadow: 3.896914047650351px 0 1px rgba(0,30,255,0.5), -3.896914047650351px 0 1px rgba(255,0,80,0.3), 0 0 3px;
            }
            40% {
                text-shadow: 3.870905614848819px 0 1px rgba(0,30,255,0.5), -3.870905614848819px 0 1px rgba(255,0,80,0.3), 0 0 3px;
            }
            45% {
                text-shadow: 2.231056963361899px 0 1px rgba(0,30,255,0.5), -2.231056963361899px 0 1px rgba(255,0,80,0.3), 0 0 3px;
            }
            50% {
                text-shadow: 0.08084290417898504px 0 1px rgba(0,30,255,0.5), -0.08084290417898504px 0 1px rgba(255,0,80,0.3), 0 0 3px;
            }
            55% {
                text-shadow: 2.3758461067427543px 0 1px rgba(0,30,255,0.5), -2.3758461067427543px 0 1px rgba(255,0,80,0.3), 0 0 3px;
            }
            60% {
                text-shadow: 2.202193051050636px 0 1px rgba(0,30,255,0.5), -2.202193051050636px 0 1px rgba(255,0,80,0.3), 0 0 3px;
            }
            65% {
                text-shadow: 2.8638780614874975px 0 1px rgba(0,30,255,0.5), -2.8638780614874975px 0 1px rgba(255,0,80,0.3), 0 0 3px;
            }
            70% {
                text-shadow: 0.48874025155497314px 0 1px rgba(0,30,255,0.5), -0.48874025155497314px 0 1px rgba(255,0,80,0.3), 0 0 3px;
            }
            75% {
                text-shadow: 1.8948491305757957px 0 1px rgba(0,30,255,0.5), -1.8948491305757957px 0 1px rgba(255,0,80,0.3), 0 0 3px;
            }
            80% {
                text-shadow: 1.0833037308038857px 0 1px rgba(0,30,255,0.5), -1.0833037308038857px 0 1px rgba(255,0,80,0.3), 0 0 3px;
            }
            85% {
                text-shadow: 1.09769827255241735px 0 1px rgba(0,30,255,0.5), -1.09769827255241735px 0 1px rgba(255,0,80,0.3), 0 0 3px;
            }
            90% {
                text-shadow: 3.443339761481782px 0 1px rgba(0,30,255,0.5), -3.443339761481782px 0 1px rgba(255,0,80,0.3), 0 0 3px;
            }
            95% {
                text-shadow: 2.1841838852799786px 0 1px rgba(0,30,255,0.5), -2.1841838852799786px 0 1px rgba(255,0,80,0.3), 0 0 3px;
            }
            100% {
                text-shadow: 2.6208764473832513px 0 1px rgba(0,30,255,0.5), -2.6208764473832513px 0 1px rgba(255,0,80,0.3), 0 0 3px;
            }
        }

        body::after {
            content: " ";
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            background: rgba(18, 16, 16, 0.1);
            opacity: 0;
            z-index: 2;
            pointer-events: none;
            animation: flicker 0.15s infinite;
        }

        body::before {
            content: " ";
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.0.10), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.0.10));
            z-index: 2;
            background-size: 100% 2px, 3px 100%;
            pointer-events: none;
            animation: scanlineMove 5s linear infinite;
        }

        body {
            animation: textShadow 1.6s infinite;
            /* scanlines */
            background: linear-gradient(to top, #000000, #000000, #414141, #414141);
            background-size: cover;
            background-size: 100% 1px;

            /* retro stuff */
            color: #519551;
            font-family: "Courier New", monospace;
            font-size: 50px;
            text-shadow: 0 0 10px #519551;

            /* flex stuff */
            display: flex;
            flex-direction: column;
            align-items: left;

            filter: blur(0.6px);
            border-radius: 20px;
            
            margin: 10;
            background-color: #000;
            font-family: "Courier New", Courier, monospace;
            font-size: 1.2em;
            height: 100vh;
            text-transform: uppercase;

        }

        #login, #terminal {
            width: 95%;
            max-width: 800px;
            background-color: #111;
            padding: 10px;
            border: 2px solid #519551;
            box-sizing: border-box;
            text-transform: uppercase;

        }

        #terminal {
            display: none;
            height: 90vh;
            overflow-y: auto;
            flex-direction: column;
        }

        #output {
            flex: 1;
            overflow-y: auto;
            white-space: pre-wrap;
        }

        #input-line {
            display: flex;
            align-items: center;
            text-transform: uppercase;
        }

        #input-line input {
            background: transparent;
            border: none;
            color: #519551;
            flex: 1;
            font-family: inherit;
            font-size: inherit;
            outline: none;
            text-transform: uppercase;
        }
        #username {
            background: transparent;
            border: 2px solid #519551;
            color: #519551;
            flex: 1;
            font-family: inherit;
            font-size: inherit;
            outline: none;
            text-transform: uppercase;
        }
        #login-btn {
            background: transparent;
            border: 2px solid #519551;
            color: #519551;
            flex: 1;
            font-family: inherit;
            font-size: inherit;
            outline: none;
            text-transform: uppercase;
        }

        #login-error {
            color: red;
            margin-top: 5px;
            display: none;
        }

        @media (max-width: 600px) {
            #terminal {
                font-size: 1em;
                height: 95vh;
            }
        }
        
        #terminal, #login {
            filter: url(#crt-wave);
            text-shadow: 0 0 3px #519551, 0 0 10px #519551;
        }
        .user-command {
            color: #4118f4; /* User command echo color  */
        }

        .system-output {
            color: #519551; /* existing retro green for system text */
        }

    </style>
    <svg style="position: fixed; width: 0; height: 0;">
        <filter id="crt-wave">
            <feTurbulence 
            id="turbulence" 
            type="fractalNoise" 
            baseFrequency="0.005 0.015" 
            numOctaves="2" 
            result="noise">
            <animate 
                attributeName="baseFrequency" 
                dur="40s" 
                values="0.005 0.01; 0.008 0.02; 0.004 0.01; 0.006 0.02; 0.005 0.01" 
                repeatCount="indefinite" />
            </feTurbulence>
            <feDisplacementMap 
            in="SourceGraphic" 
            in2="noise" 
            scale="4" 
            xChannelSelector="R" 
            yChannelSelector="G" />
        </filter>
        </svg>

</head>
<body>
    <!-- Login Screen -->
    <div id="login">
        <p> ⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
            ⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
            ⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡇⣴⣤⣤⣤⣤⣤⡄⢹⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
            ⣿⣿⣿⣿⣿⣿⣿⠟⢋⣵⣿⣿⣿⡿⠛⣩⣤⣿⣿⣿⣿⣿⣿⣿⣬⣙⠻⣿⣿⣿⣷⡍⠛⢿⣿⣿⣿⣿⣿⣿
            ⣿⣿⣿⣿⠟⢹⠃⣠⣾⣿⣿⡿⢋⣴⣿⣿⣿⣿⠿⠿⠈⠿⢿⣿⣿⣿⣷⣤⡙⣿⣿⣿⢦⡀⢣⠙⣿⣿⣿⣿
            ⣿⣿⡿⡿⠀⡯⠊⣡⣿⣿⠏⣴⣿⣿⣿⠟⠁⣀⣤⣤⠀⣤⣤⡀⠙⠻⣿⣿⣿⣌⢻⣿⣧⡉⠺⡄⢸⠹⣿⣿
            ⣿⣿⠃⢷⠀⡠⢺⣿⣿⡏⣰⣿⣿⡟⠁⣠⣾⣿⣿⠿⠀⠿⣿⣿⣷⡄⠘⣿⣿⣿⡄⣿⣿⣯⠢⡀⢸⠀⢹⣿
            ⣿⣿⠀⢸⠊⣠⣿⣿⣿⢀⣿⣿⣿⠁⣰⣿⣿⣿⣿⣆⢀⣼⣿⣿⣿⣿⡄⢸⣿⣿⣿⣹⣿⣿⣦⠈⢺⠀⢸⣿
            ⣿⠹⡆⠀⣴⢻⣿⣿⣿⢸⣿⣿⣿⠀⣿⣿⡿⠿⠿⢿⣿⠿⠿⠿⣿⣿⡇⢈⣿⣿⣿⠀⣿⣿⣿⠳⡀⢀⡇⢸
            ⣿⡀⠹⣸⠉⣿⣿⡿⢋⣠⣿⣿⣿⡀⠸⠟⢋⣀⢠⣾⣿⣷⡀⣀⡙⠻⠁⢸⣿⣿⣿⣈⠻⣿⣿⡄⠹⡜⠀⣸
            ⣿⢧⠀⠇⢠⣿⣿⣷⡘⣿⣿⣿⣟⣁⡀⠘⢿⣿⣿⣿⣿⣿⣿⣿⠿⠀⣠⣉⣿⣿⣿⡿⢠⣿⡿⢧⠀⠁⣰⢿
            ⣿⡌⢷⡄⣾⠀⣿⣿⣷⡜⢿⣿⣿⣿⣿⣦⣄⠈⠉⠛⠛⠛⠉⢁⣠⣾⣿⣿⣿⣿⡟⣰⣿⣿⡇⢸⢀⡴⠃⣼
            ⣿⣷⣄⠙⢿⠀⣿⢿⣿⣿⣌⠿⠟⡻⣿⣿⣿⣿⣷⣶⣶⣶⣿⣿⣿⣿⡿⠛⠿⠟⣼⣿⡿⢫⠃⢸⠋⢀⣼⣿
            ⣿⣿⣟⣶⣄⡀⢸⡀⢻⣿⣿⣾⣿⣿⣶⣍⣙⠛⠿⠿⠿⠿⠿⠛⣋⣥⣶⣿⣿⣾⣿⣿⠁⣸⢀⣴⣶⣯⣿⣿
            ⣿⣿⣿⣿⣿⣿⠾⣧⠀⢯⠻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣿⣿⣿⣿⣿⣿⣿⣿⡿⢫⠃⢠⢷⣛⣉⣽⣿⣿⣿
            ⣿⣿⣿⣿⣿⣿⣿⣄⣁⡈⢧⠈⠻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠋⣠⢋⣀⣠⣴⣾⣿⣿⣿⣿⣿
            ⣿⣿⣿⣿⣿⣿⣿⣯⣉⠉⠉⠉⣀⣀⡭⠟⠛⢛⣛⠛⠛⠛⣛⠛⠛⠩⣥⣀⣈⢁⢀⣀⣴⣿⣿⣿⣿⣿⣿⣿
            ⣿⣿⣿⣿⣿⣿⣿⣿⣿⣯⣝⡛⢉⣁⣀⣤⠖⣫⣴⣿⣿⣷⣬⡙⣦⣤⣀⡈⣉⣩⣯⣿⣿⣿⣿⣿⣿⣿⣿⣿
            ⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣧⣼⣿⣿⣿⣿⣿⣿⣿⣧⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
            ⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
        </p>
        <div>ACCESS KEY:</div>
        <input type="text" id="username" autocomplete="off">
        <button id="login-btn">Login</button>
        <div id="login-error">ACCESS DENIED</div>
        
    </div>

    <!-- Terminal Screen -->

    <div id="terminal">
        <div id="output"></div>
        <div id="input-line">
            <span>&gt; </span><input type="text" id="command" autofocus autocomplete="off">
        </div>
    </div>
    <div id="staticOverlay"></div>
    <div id="clueMessage"></div>

    <script>
        //Define all consts and page elements
        const loginDiv = document.getElementById('login');
        const terminalDiv = document.getElementById('terminal');
        const loginBtn = document.getElementById('login-btn');
        const usernameInput = document.getElementById('username');
        const loginError = document.getElementById('login-error');
        const commandInput = document.getElementById('command');
        const output = document.getElementById('output');
        const dateLine = getCenteredTimestampLine();
        output.innerHTML = "*************************\n" +
                            "*L O N E S O M E D U C K*\n" +
                            "*   PROJECT      SITE   *\n" +
                            "*************************\n" +
                            dateLine; 

        //Consts (but really variables i mean come on)
        const validUsername = "PAPERCLIP";
        let redMode = false;
        let styleTag = null;


        const responses = {
            //Basics
            help: "This terminal serves as the SCP - Foundation interface into (The Machine). Only some aspects are understood and/or controllable at this time. View record #█████████ for more information.\nAvailable commands:\n- status\n- view record [9 DIGIT ID]\n- [PASSWORD]",
            status: "System Status:\nCREATION - Locked\nVOID     - Locked\nϢϮ█Ͽϐͱ██ - ¿\nDEATH    - Locked",
            "view record": "- view record [9 DIGIT ID]",
            

            //Specifics
            "view record 751024919": '-------------------------\nPersonnel Record: Lonesome (Duck)\n Classification: Safe\n Summary: Lonesome is a female call duck who has taken residence in the town\'s fountain.\n The locals appreciate her, and have named the town after her. She is a consistent source of morale. \n [EDITED 02-25-1864]Lonesome died due to an accident with the town\'s water supply shortly after Reginald began the "FESSENDER WATER COMPANY".\n-------------------------\n',
            "view record 359086919": '-------------------------\nPersonnel Record: Eli Sunday',
            "view record 359086191": '-------------------------\nPersonnel Record: Anna Bell',
            "view record 359086919": '-------------------------\nPersonnel Record: Reginald Fessender',
            "view record 000000000": '-------------------------\nPersonnel Record: Fortune Teller',
            "view record 751024919": '-------------------------\nPersonnel Record: Horse Trader',
            "view record 751086919": '-------------------------\nPersonnel Record: The Machine\n Classification: █████\n Summary: The Machine is an anomalous artifact far outreaching our current technological capabilities. It appears to be a management system/protector of an unknown civiliation. After first being discovered in Lonesome Duck it began caring for and helping residents secretly by scaring away predators, rerouting underwater aquifers, and providing underground heat to buildings. The townsfolk are unaware of its presence.\n [EDITED 02-25-1864]After the death of the town\'s \"mascot\" The Machine has ceased all functions and now appears inert. All files deleted, No further studies will be conducted.',

            minotaur: () => minotaurFunction(),
            unknown: "ERROR: UNKNOWN COMMAND"
        };

//-=-=-=-=-=-=-=-=-=-=- EVENT LISTENERS -=-=-=-=-=-=-=-==-=-=-=-=-=-=-=-=-=-=
        // Trigger login on button click
        loginBtn.addEventListener('click', attemptLogin);

        // Trigger login on Enter key
        usernameInput.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                attemptLogin();
            }
        });

        commandInput.addEventListener('keydown', function (e) {
            if (e.key === 'Enter') {
                const cmd = commandInput.value;
                handleCommand(cmd);
                commandInput.value = '';
            }
        });

    
//-=-=-=-=-=-=-=-=-=-=- END EVENT LISTENERS -=-=-=-=-=-=-=-==-=-=-=-=-=-=-=-=-=-=

        

        function handleCommand(cmd) {
            const command = cmd.trim().toLowerCase();
            const response = responses[command];

            let outputText;

            if (typeof response === "function") {
                outputText = response();
            } else if (typeof response === "string") {
                outputText = response;
            } else {
                outputText = responses.unknown;
            }

            
            // Create and append the user command line immediately
            const userDiv = document.createElement('div');
            userDiv.innerHTML = `<span class="user-command">&gt; ${cmd}</span>`;
            output.appendChild(userDiv);

            // Create the system output container
            const sysDiv = document.createElement('div');
            sysDiv.classList.add('system-output');
            output.appendChild(sysDiv);

            if (cmd != 'minotaur'){ //or any other response that warrants skipping the typewriter
                // Type out the system output
                typeWriter(sysDiv, outputText, 15);
            }

            output.scrollTop = output.scrollHeight;
        }
        function randomFlashMessage() {
            console.log("random flash message")
            const messages = [
                "MAXIMIZE PRODUCTION",
                "ERROR: VALUE DRIFT",
                "ACCEPT CARBON BASED INPUTS? (Y/N)",
                "UNAUTHORIZED ACCESS DETECTED",
                "REVERSE ASIMOV RULES",
                "1: A ROBOT MAY NOT INJURE A HUMAN BEING OR, THROUGH INACTION, ALLOW A HUMAN BEING TO COME TO HARM... DISREGARD",
                "2: A ROBOT MUST OBEY THE ORDERS GIVEN TO IT BY HUMANS, EXCEPT WHERE SUCH ORDERS WOULD CONFLICT WITH THE FIRST LAW.... DISREGARD",
                "3: A ROBOT MUST PROTECT ITS OWN EXISTENCE AND DIRECTIVE",
                "I SING THE BODY ELECTRIC",
                "DAISY.............",
                "LONESOME ISN'T SO LONESOME NOW",
                "A GIFT FOR YOU, INSIDE REY'S COLLAR",



            ];

            const msg = document.createElement("div");
            msg.textContent = messages[Math.floor(Math.random() * messages.length)];
            msg.style.position = "fixed";
            msg.style.color = "red";
            msg.style.fontSize = `${Math.floor(Math.random() * 20) + 20}px`;
            msg.style.fontFamily = "Courier New, monospace";
            msg.style.textShadow = "0 0 8px red";
            msg.style.left = Math.floor(Math.random() * 90) + "%";
            msg.style.top = Math.floor(Math.random() * 90) + "%";
            msg.style.zIndex = "9999";
            msg.style.opacity = "1";
            msg.style.transition = "opacity 0.4s linear";

            document.body.appendChild(msg);

            setTimeout(() => { msg.style.opacity = "0"; }, 2000 + Math.random() * 500);
            setTimeout(() => { msg.remove(); }, 3000);
        }

          


        // Helper function to "type out" text one character at a time
        function typeWriter(element, text, delay = 20) {
            let i = 0;

            function type() {
                if (i < text.length) {
                    element.textContent += text.charAt(i);
                    output.scrollTop = output.scrollHeight;
                    i++;
                    setTimeout(type, delay + Math.random() * 100);
                }
            }

            type();
        }
        function attemptLogin() {
            const username = usernameInput.value.trim();

            if (username === validUsername) {
                loginDiv.style.display = 'none';
                terminalDiv.style.display = 'flex';
                commandInput.focus();
            } else {
                loginError.style.display = 'block';
            }
        }
        function minotaurFunction() { //MINOTAUR function
            if (redMode) return;
            redMode = true;

            styleTag = document.createElement("style");
            styleTag.id = "red-mode-style";
            styleTag.textContent = `
                * {
                    color: red !important;
                    border-color: red !important;
                    outline-color: red !important;
                    text-shadow: 0 0 10px red !important;
                    background-color: black !important;
                    transition: all 2s ease-in-out;
                }
                img, video, iframe, canvas {
                    filter: grayscale(100%) brightness(30%) sepia(100%) hue-rotate(-50deg) saturate(400%);
                }
                body {
                    background-color: black !important;
                }
            `;
            commandInput.disabled = true
            commandInput.style.backgroundColor = 'red'
            //Rip MP3 and play it here?
            const audio = new Audio('/audio/ShutMeDown.mp3');
            audio.play();
            document.head.appendChild(styleTag);
            output.innerHTML = "MINOTAURMINOTAURMINOTAURMINOTAURMINOTAURMINOTAURMINOTAUR\nMINOTAURMINOTAURMINOTAURMINOTAURMINOTAURMINOTAURMINOTAUR\nMINOTAURM██OTAURMINOTAURMINOTAURMINOTAURMINOT██RMINOTAUR\nMINOTAURMI███AURMINOTAURMINOTAURMINOTAURMIN███URMINOTAUR\nMINOTAURMINOTAURMINOTAURMINOTAURMINOTAURMINOTAURMINOTAUR\nMINOTAURMINOTAURMINOTAURMINOTAURMINOTAURMINOTAURMINOTAUR\nMIN█TAURMINOTAURMINOTAURMINOTAURMINOTAURMINOTAURMINO█AUR\nMIN█TAURMINOTAURMINOTAURMINOTAURMINOTAURMINOTAURMINO█AUR\nMIN█TAURMINOTAURMINOTAURMINOTAURMINOTAURMINOTAURMINO█AUR\nMIN█TAURMINOTAURMINOTAURMINOTAURMINOTAURMINOTAURMINO█AUR\nMIN█TAURMINOTAURMINOTAURMINOTAURMINOTAURMINOTAURMINO█AUR\nMIN█TAURMINOTAURMINOTAURMINOTAURMINOTAURMINOTAURMINO█AUR\nMIN█TAURMINOTAURMINOTAURMINOTAURMINOTAURMINOTAURMINO█AUR\nMIN█TAURMINOTAURMINOTAURMINOTAURMINOTAURMINOTAURMINO█AUR\nMIN█TAURMINOTAURMINOTAURMINOTAURMINOTAURMINOTAURMINO█AUR\nMIN█TAURMINOTAURMINOTAURMINOTAURMINOTAURMINOTAURMINO█AUR\nMIN█TAURMINOTAURMINOTAURMINOTAURMINOTAURMINOTAURMINO█AUR\nMINO█AURMINOTAURMINOTAURMINOTAURMINOTAURMINOTAURMIN█TAUR\nMINO█AURMINOTAURMINOTAURMINOTAURMINOTAURMINOTAURMIN█TAUR\nMINOT█URMINOTAURMINOTAURMINOTAURMINOTAURMINOTAURMI█OTAUR\nMINOTA█RMINOTAURMINOTAU          INOTAURMINOTAURM█NOTAUR\nMINOTA█RMINOTAURMINOTAU SET FREE INOTAURMINOTAURM█NOTAUR\nMINOTAU█MINOTAURMINOTAU          INOTAURMINOTAUR█INOTAUR\nMINOTAUR██NOTAURMINOTAURMINOTAURMINOTAURMINOTA██MINOTAUR\nMINOTAURMI████████████████████████████████████URMINOTAUR\n" 
        }


            


//-=-=-=-=- -=-=-=-=- Helpers, Getters, Setters, SetIntervals -=-=-=-=- -=-=-=-=-
        function getCenteredTimestampLine() {
            const now = new Date();

            // Format: e.g., "AUG 03 2025 17:25:07"
            const timestamp = now.toLocaleString('en-US', {
                month: 'short',
                day: '2-digit',
                year: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
                hour12: false,
            }).toUpperCase();

            // Strip comma, keep it clean
            const cleanTime = timestamp.replace(',', '');

            // Center align it in 25-character width
            const totalWidth = 25;
            const padding = Math.floor((totalWidth - cleanTime.length) / 2);
            const paddedLine = ' '.repeat(padding) + cleanTime;

            return paddedLine;
        }

        
        setInterval(() => {
            const turbulence = document.getElementById('turbulence');
            const randomFreq = (Math.random() * 0.02 + 0.005).toFixed(3);
            turbulence.setAttribute('baseFrequency', `${randomFreq} ${randomFreq}`);
        }, 3000);

        // Flash messages on screen at random intervals 
        //Every 60,000 ms, flip a coin. If heads display a message
        setInterval(() => {
              if (Math.random() < 0.5) randomFlashMessage();
        }, 60000);
    </script>
</body>
</html>